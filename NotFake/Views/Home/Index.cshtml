@model List<NotFake.Models.MainPageViewModel>

@{
    ViewData["Title"] = "MainPage";
}

@foreach(var item in Model)
{
<p><h3>@Html.DisplayFor(modelItem => item.Genre.Name)</h3></p>
<div id="@item.Genre.Name" class="carousel slide" data-ride="carousel" data-interval="500">
    <ol class="carousel-indicators">
        @for (int i = 0; i < item.Films.Count(); i++)
        {
            <li data-target="#@item.Genre.Name" data-slide-to="@i" class="@(i == 0 ? "active" : string.Empty)"></li>
        }
    </ol>
    <div class="carousel-inner">
        @for (int i = 0; i < item.Films.Count(); i++)
        {
            <div class="carousel-item @(i == 0 ? "active" : string.Empty)">
                <a asp-controller="Film" asp-action="Index" asp-route-id="@item.Films.ElementAt(i).FilmId">
                    <img src="@item.Films.ElementAt(i).ThumbnailAddress" alt="ASP.NET" class="d-block w-100" />
                    <div class="carousel-caption d-none d-md-block" role="option">
                        <p>@item.Films.ElementAt(i).Name</p>
                    </div>
                </a>
            </div>
        }
    </div>
    <a class="carousel-control-prev" href="#@item.Genre.Name" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#@item.Genre.Name" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
}
